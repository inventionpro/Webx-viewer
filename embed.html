<!DOCTYPE html>
<html>
  <head>
    <title>Embed - WebX Viewer</title>
    <link rel="icon" href="./favicon.ico" type="image/png">
    <link rel="stylesheet" href="./media/embed.css">
    <script src="https://cdn.jsdelivr.net/npm/wasmoon-async-fix@1.17.2"></script>
  </head>
  <body>
    <div style="display:none" aria-hidden="true" inert>
      <input id="url">
      <input id="bussinga" type="checkbox">
      <input id="proxy" type="checkbox">
      <input id="dns">
      <script>
        let query = {};
        location.search.replace('?','').split('&').forEach(p=>query[p.split('=')[0]]=p.split('=')[1]);
        document.getElementById('url').value = query.url??'';
        document.getElementById('bussinga').checked = query?.bussinga?.toLowerCase()==='true';
        document.getElementById('proxy').checked = query?.proxy?.toLowerCase()==='true';
        document.getElementById('dns').value = query.dns??'https://dns.webxplus.org/';
      </script>
    </div>
    <iframe sandbox="allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-scripts allow-same-origin"></iframe>
    <script src="./media/script.js" type="module"></script>
    <script type="module">
      window.urlhistory = [document.getElementById('url').value];
      window.current = 0;
      window.view();
    </script>
  </body>
</html>