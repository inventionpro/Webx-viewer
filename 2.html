<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebX Viewer</title>
    <meta name="description" content="View and use WebX websites comfortably from your browser using WXV.">
    <meta name="theme-color" content="#eeddff">
    <link rel="icon" href="./favicon.ico" type="image/png">
    <!--<link rel="canonical" href="https://inventionpro.github.io/Webx-viewer/">
    <meta name="robots" content="index, follow">-->
    <link rel="stylesheet" href="./media/style2.css">
    <!--<link rel="manifest" href="./media/install.json">-->
    <script src="https://cdn.jsdelivr.net/npm/wasmoon-async-fix@1.17.5"></script>
  </head>
  <body>
    <dialog id="settings">
      <button onclick="this.parentElement.close()" class="modal-close">x</button>
      <label class="notice-p">Bussinga: <input id="bussinga" type="checkbox" onchange="window.browser.bussinga=this.checked"></label>
      <div class="notice">Bussinga emulation can be unsafe, <a href="https://github.com/inventionpro/bussinga-attack" target="_blank">check here</a>.</div>
      <label>Proxy fetches: <input id="proxy" type="checkbox" onchange="window.browser.proxy=this.checked"></label>
      <br>
      <label>DNS: <input placeholder="dns server" value="https://dns.webxplus.org/" id="dns" style="width:200px"  onchange="window.browser.dns=this.value"></label>
      <br>
      <button onclick="window.cache={domain:{},fetch:{}}">Remove cache</button>
      <button onclick="embedPage()">Embed link</button>
    </dialog>
    <div id="tabs"></div>
    <div class="nav">
      <button onclick="" aria-label="Backwards"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256"><path d="M15 128H241" stroke-width="30" stroke-linecap="round"/><path d="M86 57L15.2893 127.711" stroke-width="30" stroke-linecap="round"/><path d="M86 198.711L15.2893 128" stroke-width="30" stroke-linecap="round"/></svg></button>
      <button onclick="" aria-label="Forwards"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256"><path d="M241 122H15" stroke-width="30" stroke-linecap="round"></path><path d="M170 51L240.711 121.711" stroke-width="30" stroke-linecap="round"></path><path d="M170 192.711L240.711 122" stroke-width="30" stroke-linecap="round"></path></svg></button>
      <button onclick="" aria-label="Reload"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256"><path d="M160.236 241.536C180.129 235.168 197.909 223.745 211.908 208.518C218.625 201.212 216.364 189.929 208.136 184.379C199.908 178.828 188.847 181.182 181.674 188.042C172.532 196.784 161.472 203.401 149.278 207.304C131.337 213.047 111.985 212.583 94.3402 205.986C76.6956 199.389 61.7858 187.043 52.0133 170.938C42.2407 154.833 38.1745 135.907 40.4701 117.209C42.7657 98.5118 51.2895 81.1318 64.6676 67.8698C78.0456 54.6078 95.4991 46.2357 114.216 44.1034C132.932 41.9711 151.821 46.2022 167.84 56.115C174.987 60.5379 181.377 65.9773 186.835 72.2175L165.486 79.9878C161.003 81.6193 160.525 87.7694 164.702 90.0742L220.104 120.646C223.052 122.273 226.758 120.924 227.971 117.783L250.76 58.7516C252.478 54.3014 248.159 49.8975 243.676 51.529L222.271 59.3196C212.946 45.8251 200.886 34.2974 186.753 25.5513C163.869 11.3902 136.884 5.34597 110.147 8.39207C83.409 11.4383 58.4747 23.3976 39.3631 42.3434C20.2516 61.2892 8.07552 86.1182 4.79612 112.829C1.51674 139.54 7.32555 166.577 21.2863 189.583C35.2471 212.59 56.5471 230.228 81.7538 239.652C106.96 249.077 134.606 249.74 160.236 241.536Z"/></svg></button>
      <input placeholder="url" id="url" value="buss://search.app" onkeyup="if(event.key==='Enter'){}">
      <button onclick="" aria-label="Dev tools"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256"><path d="M236 28C247.046 28 256 34.9956 256 43.625V212.375C256 221.004 247.046 228 236 228H20C8.95431 228 1.05562e-05 221.004 0 212.375V43.625C0 34.9956 8.95431 28 20 28H236ZM114 168.987C106.32 168.987 100.094 175.298 100.094 183.081C100.094 190.864 106.32 197.174 114 197.174H220.666C228.346 197.174 234.572 190.864 234.572 183.08C234.572 175.296 228.346 168.986 220.666 168.986L114 168.987ZM44.9639 63.1084C39.277 57.8699 30.0559 57.8698 24.3691 63.1084C18.6829 68.347 18.6829 76.8405 24.3691 82.0791L74.2168 127.998L24.3691 173.918L24.1064 174.166C18.6838 179.421 18.7715 187.733 24.3691 192.89C29.967 198.046 38.9885 198.126 44.6934 193.131L44.9629 192.89L104.963 137.617C107.832 134.974 109.252 131.504 109.227 128.04C109.274 124.656 107.941 121.259 105.226 118.628L104.964 118.38L44.9639 63.1084Z"/></svg></button>
      <button onclick="toggleSettings()" aria-label="Settings"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256"><path fill-rule="evenodd" clip-rule="evenodd" d="M128.601 218.742C178.384 218.742 218.742 178.385 218.742 128.601C218.742 78.8179 178.384 38.4604 128.601 38.4604C78.8175 38.4604 38.4601 78.8179 38.4601 128.601C38.4601 178.385 78.8175 218.742 128.601 218.742ZM128.601 167.061C149.842 167.061 167.061 149.842 167.061 128.601C167.061 107.36 149.842 90.141 128.601 90.141C107.36 90.141 90.1408 107.36 90.1408 128.601C90.1408 149.842 107.36 167.061 128.601 167.061Z"/><path d="M101.001 11.0292C101.507 4.79869 106.711 0 112.962 0H143.038C149.289 0 154.493 4.79868 154.999 11.0292L158 48H98L101.001 11.0292Z"/><path d="M101.001 244.971C101.507 251.201 106.711 256 112.962 256H143.038C149.289 256 154.493 251.201 154.999 244.971L158 208H98L101.001 244.971Z"/><path d="M244.971 101.001C251.201 101.507 256 106.711 256 112.962L256 143.038C256 149.289 251.201 154.493 244.971 154.999L208 158L208 98L244.971 101.001Z"/><path d="M11.0292 101.001C4.79869 101.507 -3.80751e-07 106.711 -6.5399e-07 112.962L-1.96869e-06 143.038C-2.24193e-06 149.289 4.79868 154.493 11.0292 154.999L48 158L48 98L11.0292 101.001Z"/><path d="M192.883 25.8341C197.645 21.7682 204.733 22.0472 209.16 26.4748L229.71 47.0245C234.137 51.4522 234.416 58.5399 230.351 63.3018L205.964 91.8637L164.321 50.2208L192.883 25.8341Z"/><path d="M26.135 192.008C22.0807 196.771 22.3646 203.849 26.7873 208.272L47.7285 229.213C52.1512 233.636 59.2294 233.92 63.9921 229.865L92.2857 205.78L50.2198 163.715L26.135 192.008Z"/><path d="M229.879 191.98C233.94 196.742 233.658 203.825 229.233 208.251L208.673 228.811C204.247 233.237 197.164 233.518 192.402 229.457L164.137 205.358L205.78 163.715L229.879 191.98Z"/><path d="M63.9921 26.1356C59.2293 22.0813 52.1512 22.3652 47.7284 26.7879L26.7874 47.7289C22.3647 52.1517 22.0808 59.2298 26.1351 63.9926L50.22 92.2862L92.2857 50.2205L63.9921 26.1356Z"/></svg></button>
      <script>
        const settingsButton = document.getElementById('settings');
        function toggleSettings() {
          settingsButton[settingsButton.open?'close':'showModal']();
        }
        function embedPage() {
          let url = `https://inventionpro.github.io/Webx-viewer/embed?url=${document.getElementById('url').value}&bussinga=${window.Browser.bussinga}&proxy=${window.Browser.proxy}&dns=${window.Browser.dns}`;
          url = url.replace('&bussinga=false','').replace('&proxy=false','').replace('&dns=https://dns.webxplus.org/','');
          navigator.clipboard.writeText(url);
        }
      </script>
    </div>
    <div id="box"></div>
    <script src="./media/index.js" type="module"></script>
  </body>
</html>